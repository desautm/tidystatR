<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Statistiques et Probabilités avec R, RStudio et le Tidyverse</title>
  <meta name="description" content="Un livre portant sur les statistiques et la probabilité en utilisant le langage R et le tidyverse.">
  <meta name="generator" content="bookdown 0.7.8 and GitBook 2.6.7">

  <meta property="og:title" content="Statistiques et Probabilités avec R, RStudio et le Tidyverse" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Un livre portant sur les statistiques et la probabilité en utilisant le langage R et le tidyverse." />
  <meta name="github-repo" content="desautm/tidystatR" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Statistiques et Probabilités avec R, RStudio et le Tidyverse" />
  
  <meta name="twitter:description" content="Un livre portant sur les statistiques et la probabilité en utilisant le langage R et le tidyverse." />
  

<meta name="author" content="Marc-André Désautels">


<meta name="date" content="2018-04-24">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="donneesconstruites.html">
<link rel="next" href="bibliographie.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Statistiques et Probabilités avec R et le Tidyverse</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="part"><span><b>I Les outils</b></span></li>
<li class="chapter" data-level="1" data-path="rrstudio.html"><a href="rrstudio.html"><i class="fa fa-check"></i><b>1</b> Les logiciels R et RStudio</a><ul>
<li class="chapter" data-level="1.1" data-path="rrstudio.html"><a href="rrstudio.html#quest-ce-que-r"><i class="fa fa-check"></i><b>1.1</b> Qu’est-ce que R?</a></li>
<li class="chapter" data-level="1.2" data-path="rrstudio.html"><a href="rrstudio.html#quest-ce-que-rstudio"><i class="fa fa-check"></i><b>1.2</b> Qu’est-ce que RStudio?</a></li>
<li class="chapter" data-level="1.3" data-path="rrstudio.html"><a href="rrstudio.html#les-bases-de-rstudio"><i class="fa fa-check"></i><b>1.3</b> Les bases de RStudio</a><ul>
<li class="chapter" data-level="1.3.1" data-path="rrstudio.html"><a href="rrstudio.html#la-console"><i class="fa fa-check"></i><b>1.3.1</b> La console</a></li>
<li class="chapter" data-level="1.3.2" data-path="rrstudio.html"><a href="rrstudio.html#environmenthistoryconnections"><i class="fa fa-check"></i><b>1.3.2</b> Environment/History/Connections</a></li>
<li class="chapter" data-level="1.3.3" data-path="rrstudio.html"><a href="rrstudio.html#filesplotspackageshelpviewer"><i class="fa fa-check"></i><b>1.3.3</b> Files/Plots/Packages/Help/Viewer</a></li>
<li class="chapter" data-level="1.3.4" data-path="rrstudio.html"><a href="rrstudio.html#aller-chercher-de-laide"><i class="fa fa-check"></i><b>1.3.4</b> Aller chercher de l’aide</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>2</b> Le tidyverse</a><ul>
<li class="chapter" data-level="2.1" data-path="tidyverse.html"><a href="tidyverse.html#extensions"><i class="fa fa-check"></i><b>2.1</b> Extensions</a></li>
<li class="chapter" data-level="2.2" data-path="tidyverse.html"><a href="tidyverse.html#installation"><i class="fa fa-check"></i><b>2.2</b> Installation</a></li>
<li class="chapter" data-level="2.3" data-path="tidyverse.html"><a href="tidyverse.html#tidydata"><i class="fa fa-check"></i><b>2.3</b> Les tidy data</a></li>
<li class="chapter" data-level="2.4" data-path="tidyverse.html"><a href="tidyverse.html#tibbles"><i class="fa fa-check"></i><b>2.4</b> Les tibbles</a><ul>
<li class="chapter" data-level="2.4.1" data-path="tidyverse.html"><a href="tidyverse.html#prerequis"><i class="fa fa-check"></i><b>2.4.1</b> Prérequis</a></li>
<li class="chapter" data-level="2.4.2" data-path="tidyverse.html"><a href="tidyverse.html#un-exemple-de-tibble"><i class="fa fa-check"></i><b>2.4.2</b> Un exemple de <strong>tibble</strong></a></li>
<li class="chapter" data-level="2.4.3" data-path="tidyverse.html"><a href="tidyverse.html#la-base-de-donnees-flights"><i class="fa fa-check"></i><b>2.4.3</b> La base de données flights</a></li>
<li class="chapter" data-level="2.4.4" data-path="tidyverse.html"><a href="tidyverse.html#donneesdiamonds"><i class="fa fa-check"></i><b>2.4.4</b> La base de données <strong>diamonds</strong></a></li>
<li class="chapter" data-level="2.4.5" data-path="tidyverse.html"><a href="tidyverse.html#explorertibbles"><i class="fa fa-check"></i><b>2.4.5</b> Comment explorer des “tibbles”</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="lextension-questionr.html"><a href="lextension-questionr.html"><i class="fa fa-check"></i><b>3</b> L’extension <code>questionr</code></a><ul>
<li class="chapter" data-level="3.1" data-path="lextension-questionr.html"><a href="lextension-questionr.html#mise-en-place"><i class="fa fa-check"></i><b>3.1</b> Mise en place</a></li>
<li class="chapter" data-level="3.2" data-path="lextension-questionr.html"><a href="lextension-questionr.html#linterface-graphique"><i class="fa fa-check"></i><b>3.2</b> L’interface graphique</a></li>
</ul></li>
<li class="part"><span><b>II Introduction</b></span></li>
<li class="chapter" data-level="4" data-path="demarchescientifique.html"><a href="demarchescientifique.html"><i class="fa fa-check"></i><b>4</b> La démarche scientifique</a></li>
<li class="chapter" data-level="5" data-path="typesvariables.html"><a href="typesvariables.html"><i class="fa fa-check"></i><b>5</b> Les différents types de variables</a><ul>
<li class="chapter" data-level="5.1" data-path="typesvariables.html"><a href="typesvariables.html#introduction-1"><i class="fa fa-check"></i><b>5.1</b> Introduction</a><ul>
<li class="chapter" data-level="5.1.1" data-path="typesvariables.html"><a href="typesvariables.html#mise-en-place-1"><i class="fa fa-check"></i><b>5.1.1</b> Mise en place</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="typesvariables.html"><a href="typesvariables.html#varqual"><i class="fa fa-check"></i><b>5.2</b> Les variables qualitatives</a><ul>
<li class="chapter" data-level="5.2.1" data-path="typesvariables.html"><a href="typesvariables.html#qualinominale"><i class="fa fa-check"></i><b>5.2.1</b> Les variables qualitatives à échelle nominale</a></li>
<li class="chapter" data-level="5.2.2" data-path="typesvariables.html"><a href="typesvariables.html#qualord"><i class="fa fa-check"></i><b>5.2.2</b> Les variables qualitatives à échelle ordinale</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="typesvariables.html"><a href="typesvariables.html#quant"><i class="fa fa-check"></i><b>5.3</b> Les variables quantitatives</a><ul>
<li class="chapter" data-level="5.3.1" data-path="typesvariables.html"><a href="typesvariables.html#mise-en-place-2"><i class="fa fa-check"></i><b>5.3.1</b> Mise en place</a></li>
<li class="chapter" data-level="5.3.2" data-path="typesvariables.html"><a href="typesvariables.html#les-variables-quantitatives-discretes"><i class="fa fa-check"></i><b>5.3.2</b> Les variables quantitatives discrètes</a></li>
<li class="chapter" data-level="5.3.3" data-path="typesvariables.html"><a href="typesvariables.html#quantcont"><i class="fa fa-check"></i><b>5.3.3</b> Les variables quantitatives continues</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="questionnaire.html"><a href="questionnaire.html"><i class="fa fa-check"></i><b>6</b> Construire un questionnaire</a><ul>
<li class="chapter" data-level="6.1" data-path="questionnaire.html"><a href="questionnaire.html#criteres-a-respecter"><i class="fa fa-check"></i><b>6.1</b> Critères à respecter</a></li>
<li class="chapter" data-level="6.2" data-path="questionnaire.html"><a href="questionnaire.html#types-de-questions"><i class="fa fa-check"></i><b>6.2</b> Types de questions</a><ul>
<li class="chapter" data-level="6.2.1" data-path="questionnaire.html"><a href="questionnaire.html#question-ouverte"><i class="fa fa-check"></i><b>6.2.1</b> Question ouverte</a></li>
<li class="chapter" data-level="6.2.2" data-path="questionnaire.html"><a href="questionnaire.html#questions-fermees"><i class="fa fa-check"></i><b>6.2.2</b> Questions fermées</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="echellesmesures.html"><a href="echellesmesures.html"><i class="fa fa-check"></i><b>7</b> Les échelles de mesure</a></li>
<li class="chapter" data-level="8" data-path="techniquesechantillonnage.html"><a href="techniquesechantillonnage.html"><i class="fa fa-check"></i><b>8</b> Les techniques d’échantillonnage</a><ul>
<li class="chapter" data-level="8.1" data-path="techniquesechantillonnage.html"><a href="techniquesechantillonnage.html#techniques-dechantillonnage-aleatoires"><i class="fa fa-check"></i><b>8.1</b> Techniques d’échantillonnage aléatoires</a></li>
<li class="chapter" data-level="8.2" data-path="techniquesechantillonnage.html"><a href="techniquesechantillonnage.html#techniques-dechantillonnage-non-aleatoires"><i class="fa fa-check"></i><b>8.2</b> Techniques d’échantillonnage non-aléatoires</a></li>
<li class="chapter" data-level="8.3" data-path="techniquesechantillonnage.html"><a href="techniquesechantillonnage.html#base-de-donnees-pour-les-mms"><i class="fa fa-check"></i><b>8.3</b> Base de données pour les <em>M&amp;M’s</em></a></li>
</ul></li>
<li class="part"><span><b>III Présentation des données</b></span></li>
<li class="chapter" data-level="9" data-path="variablesqualitatives.html"><a href="variablesqualitatives.html"><i class="fa fa-check"></i><b>9</b> Les variables qualitatives</a><ul>
<li class="chapter" data-level="9.1" data-path="variablesqualitatives.html"><a href="variablesqualitatives.html#mise-en-place-3"><i class="fa fa-check"></i><b>9.1</b> Mise en place</a></li>
<li class="chapter" data-level="9.2" data-path="variablesqualitatives.html"><a href="variablesqualitatives.html#tableau-de-frequences"><i class="fa fa-check"></i><b>9.2</b> Tableau de fréquences</a></li>
<li class="chapter" data-level="9.3" data-path="variablesqualitatives.html"><a href="variablesqualitatives.html#representation-graphique---le-diagramme-a-bandes"><i class="fa fa-check"></i><b>9.3</b> Représentation graphique - Le diagramme à bandes</a><ul>
<li class="chapter" data-level="9.3.1" data-path="variablesqualitatives.html"><a href="variablesqualitatives.html#la-variable-marital"><i class="fa fa-check"></i><b>9.3.1</b> La variable <code>marital</code></a></li>
<li class="chapter" data-level="9.3.2" data-path="variablesqualitatives.html"><a href="variablesqualitatives.html#la-variable-relig"><i class="fa fa-check"></i><b>9.3.2</b> La variable <code>relig</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="variablesquantitativesdiscretes.html"><a href="variablesquantitativesdiscretes.html"><i class="fa fa-check"></i><b>10</b> Les variables quantitatives discrètes</a><ul>
<li class="chapter" data-level="10.1" data-path="variablesquantitativesdiscretes.html"><a href="variablesquantitativesdiscretes.html#mise-en-place-4"><i class="fa fa-check"></i><b>10.1</b> Mise en place</a></li>
<li class="chapter" data-level="10.2" data-path="variablesquantitativesdiscretes.html"><a href="variablesquantitativesdiscretes.html#tabfreqquantdiscr"><i class="fa fa-check"></i><b>10.2</b> Tableau de fréquences</a></li>
<li class="chapter" data-level="10.3" data-path="variablesquantitativesdiscretes.html"><a href="variablesquantitativesdiscretes.html#representation-graphique---le-diagramme-a-bandes-1"><i class="fa fa-check"></i><b>10.3</b> Représentation graphique - Le diagramme à bandes</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="variablesquantitativescontinues.html"><a href="variablesquantitativescontinues.html"><i class="fa fa-check"></i><b>11</b> Les variables quantitatives continues</a><ul>
<li class="chapter" data-level="11.1" data-path="variablesquantitativescontinues.html"><a href="variablesquantitativescontinues.html#mise-en-place-5"><i class="fa fa-check"></i><b>11.1</b> Mise en place</a></li>
<li class="chapter" data-level="11.2" data-path="variablesquantitativescontinues.html"><a href="variablesquantitativescontinues.html#tableau-de-frequences-1"><i class="fa fa-check"></i><b>11.2</b> Tableau de fréquences</a></li>
<li class="chapter" data-level="11.3" data-path="variablesquantitativescontinues.html"><a href="variablesquantitativescontinues.html#representation-graphique---lhistogramme"><i class="fa fa-check"></i><b>11.3</b> Représentation graphique - L’histogramme</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="deuxvariables.html"><a href="deuxvariables.html"><i class="fa fa-check"></i><b>12</b> Deux variables</a><ul>
<li class="chapter" data-level="12.1" data-path="deuxvariables.html"><a href="deuxvariables.html#mise-en-place-6"><i class="fa fa-check"></i><b>12.1</b> Mise en place</a></li>
<li class="chapter" data-level="12.2" data-path="deuxvariables.html"><a href="deuxvariables.html#croisement-de-deux-variables-qualitatives"><i class="fa fa-check"></i><b>12.2</b> Croisement de deux variables qualitatives</a><ul>
<li class="chapter" data-level="12.2.1" data-path="deuxvariables.html"><a href="deuxvariables.html#tableaux-a-double-entree"><i class="fa fa-check"></i><b>12.2.1</b> Tableaux à double entrée</a></li>
<li class="chapter" data-level="12.2.2" data-path="deuxvariables.html"><a href="deuxvariables.html#representation-graphique---diagramme-a-bandes-chevauchees"><i class="fa fa-check"></i><b>12.2.2</b> Représentation graphique - diagramme à bandes chevauchées</a></li>
<li class="chapter" data-level="12.2.3" data-path="deuxvariables.html"><a href="deuxvariables.html#representation-graphique---diagramme-a-bandes-superposees"><i class="fa fa-check"></i><b>12.2.3</b> Représentation graphique - diagramme à bandes superposées</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="deuxvariables.html"><a href="deuxvariables.html#croisement-dune-variable-qualitative-et-dune-variable-quantitative"><i class="fa fa-check"></i><b>12.3</b> Croisement d’une variable qualitative et d’une variable quantitative</a><ul>
<li class="chapter" data-level="12.3.1" data-path="deuxvariables.html"><a href="deuxvariables.html#representation-graphique---boite-a-moustaches"><i class="fa fa-check"></i><b>12.3.1</b> Représentation graphique - boîte à moustaches</a></li>
<li class="chapter" data-level="12.3.2" data-path="deuxvariables.html"><a href="deuxvariables.html#representation-graphique---diagramme-en-violon"><i class="fa fa-check"></i><b>12.3.2</b> Représentation graphique - diagramme en violon</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="deuxvariables.html"><a href="deuxvariables.html#croisement-de-deux-variables-quantitatives"><i class="fa fa-check"></i><b>12.4</b> Croisement de deux variables quantitatives</a></li>
</ul></li>
<li class="part"><span><b>IV Les mesures</b></span></li>
<li class="chapter" data-level="13" data-path="proportions.html"><a href="proportions.html"><i class="fa fa-check"></i><b>13</b> Les proportions</a><ul>
<li class="chapter" data-level="13.1" data-path="proportions.html"><a href="proportions.html#mise-en-place-7"><i class="fa fa-check"></i><b>13.1</b> Mise en place</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="tendancecentrale.html"><a href="tendancecentrale.html"><i class="fa fa-check"></i><b>14</b> Les mesures de tendance centrale</a><ul>
<li class="chapter" data-level="14.1" data-path="tendancecentrale.html"><a href="tendancecentrale.html#mise-en-place-8"><i class="fa fa-check"></i><b>14.1</b> Mise en place</a></li>
<li class="chapter" data-level="14.2" data-path="tendancecentrale.html"><a href="tendancecentrale.html#le-mode"><i class="fa fa-check"></i><b>14.2</b> Le mode</a></li>
<li class="chapter" data-level="14.3" data-path="tendancecentrale.html"><a href="tendancecentrale.html#la-mediane"><i class="fa fa-check"></i><b>14.3</b> La médiane</a></li>
<li class="chapter" data-level="14.4" data-path="tendancecentrale.html"><a href="tendancecentrale.html#la-moyenne"><i class="fa fa-check"></i><b>14.4</b> La moyenne</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="mesuresdispersion.html"><a href="mesuresdispersion.html"><i class="fa fa-check"></i><b>15</b> Les mesures de dispersion</a><ul>
<li class="chapter" data-level="15.1" data-path="mesuresdispersion.html"><a href="mesuresdispersion.html#letendue"><i class="fa fa-check"></i><b>15.1</b> L’étendue</a></li>
<li class="chapter" data-level="15.2" data-path="mesuresdispersion.html"><a href="mesuresdispersion.html#la-variance"><i class="fa fa-check"></i><b>15.2</b> La variance</a></li>
<li class="chapter" data-level="15.3" data-path="mesuresdispersion.html"><a href="mesuresdispersion.html#lecart-type"><i class="fa fa-check"></i><b>15.3</b> L’écart-type</a></li>
<li class="chapter" data-level="15.4" data-path="mesuresdispersion.html"><a href="mesuresdispersion.html#le-coefficient-de-variation"><i class="fa fa-check"></i><b>15.4</b> Le coefficient de variation</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="mesuresposition.html"><a href="mesuresposition.html"><i class="fa fa-check"></i><b>16</b> Les mesures de position</a><ul>
<li class="chapter" data-level="16.1" data-path="mesuresposition.html"><a href="mesuresposition.html#la-cote-z"><i class="fa fa-check"></i><b>16.1</b> La cote z</a></li>
<li class="chapter" data-level="16.2" data-path="mesuresposition.html"><a href="mesuresposition.html#les-quantiles"><i class="fa fa-check"></i><b>16.2</b> Les quantiles</a></li>
<li class="chapter" data-level="16.3" data-path="mesuresposition.html"><a href="mesuresposition.html#la-commande-summary"><i class="fa fa-check"></i><b>16.3</b> La commande <code>summary</code></a></li>
<li class="chapter" data-level="16.4" data-path="mesuresposition.html"><a href="mesuresposition.html#le-rang-centile"><i class="fa fa-check"></i><b>16.4</b> Le rang centile</a></li>
</ul></li>
<li class="part"><span><b>V Les données construites</b></span></li>
<li class="chapter" data-level="17" data-path="serieschronologiques.html"><a href="serieschronologiques.html"><i class="fa fa-check"></i><b>17</b> Les séries chronologiques</a><ul>
<li class="chapter" data-level="17.1" data-path="serieschronologiques.html"><a href="serieschronologiques.html#mise-en-place-9"><i class="fa fa-check"></i><b>17.1</b> Mise en place</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="donneesconstruites.html"><a href="donneesconstruites.html"><i class="fa fa-check"></i><b>18</b> Les données construites</a><ul>
<li class="chapter" data-level="18.1" data-path="donneesconstruites.html"><a href="donneesconstruites.html#mise-en-place-10"><i class="fa fa-check"></i><b>18.1</b> Mise en place</a></li>
</ul></li>
<li class="part"><span><b>VI L’analyse de lien</b></span></li>
<li class="chapter" data-level="19" data-path="correlationlineaire.html"><a href="correlationlineaire.html"><i class="fa fa-check"></i><b>19</b> La corrélation linéaire</a><ul>
<li class="chapter" data-level="19.1" data-path="correlationlineaire.html"><a href="correlationlineaire.html#mise-en-place-11"><i class="fa fa-check"></i><b>19.1</b> Mise en place</a></li>
<li class="chapter" data-level="19.2" data-path="correlationlineaire.html"><a href="correlationlineaire.html#le-nuage-de-points"><i class="fa fa-check"></i><b>19.2</b> Le nuage de points</a></li>
<li class="chapter" data-level="19.3" data-path="correlationlineaire.html"><a href="correlationlineaire.html#fake-data"><i class="fa fa-check"></i><b>19.3</b> Fake data</a><ul>
<li class="chapter" data-level="19.3.1" data-path="correlationlineaire.html"><a href="correlationlineaire.html#correlation-positive"><i class="fa fa-check"></i><b>19.3.1</b> Corrélation positive</a></li>
<li class="chapter" data-level="19.3.2" data-path="correlationlineaire.html"><a href="correlationlineaire.html#correlation-negative"><i class="fa fa-check"></i><b>19.3.2</b> Corrélation négative</a></li>
<li class="chapter" data-level="19.3.3" data-path="correlationlineaire.html"><a href="correlationlineaire.html#aucune-correlation"><i class="fa fa-check"></i><b>19.3.3</b> Aucune corrélation</a></li>
<li class="chapter" data-level="19.3.4" data-path="correlationlineaire.html"><a href="correlationlineaire.html#une-autre-facon-de-simuler"><i class="fa fa-check"></i><b>19.3.4</b> Une autre façon de simuler</a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="correlationlineaire.html"><a href="correlationlineaire.html#le-quartet-danscombe"><i class="fa fa-check"></i><b>19.4</b> Le quartet d’Anscombe</a></li>
<li class="chapter" data-level="19.5" data-path="correlationlineaire.html"><a href="correlationlineaire.html#datasaurus"><i class="fa fa-check"></i><b>19.5</b> DatasauRus</a></li>
<li class="chapter" data-level="19.6" data-path="correlationlineaire.html"><a href="correlationlineaire.html#challenger"><i class="fa fa-check"></i><b>19.6</b> Challenger</a><ul>
<li class="chapter" data-level="19.6.1" data-path="correlationlineaire.html"><a href="correlationlineaire.html#toutes-les-donnees"><i class="fa fa-check"></i><b>19.6.1</b> Toutes les données</a></li>
<li class="chapter" data-level="19.6.2" data-path="correlationlineaire.html"><a href="correlationlineaire.html#sans-incident"><i class="fa fa-check"></i><b>19.6.2</b> Sans incident</a></li>
<li class="chapter" data-level="19.6.3" data-path="correlationlineaire.html"><a href="correlationlineaire.html#probabilites-en-enlevant-les-incidents"><i class="fa fa-check"></i><b>19.6.3</b> Probabilités en enlevant les incidents</a></li>
<li class="chapter" data-level="19.6.4" data-path="correlationlineaire.html"><a href="correlationlineaire.html#probabilites-en-gardant-les-incidents"><i class="fa fa-check"></i><b>19.6.4</b> Probabilités en gardant les incidents</a></li>
<li class="chapter" data-level="19.6.5" data-path="correlationlineaire.html"><a href="correlationlineaire.html#glm"><i class="fa fa-check"></i><b>19.6.5</b> GLM</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="bibliographie.html"><a href="bibliographie.html"><i class="fa fa-check"></i>Bibliographie</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Publié avec bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Statistiques et Probabilités avec R, RStudio et le Tidyverse</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="correlationlineaire" class="section level1">
<h1><span class="header-section-number">Chapitre 19</span> La corrélation linéaire</h1>
<p>La corrélation est l’étude de l’intensité du lien entre deux variables. Elle permet de quantifier la relation entre deux variables <strong>quantitatives</strong>.</p>
<p>Bien qu’à priori le lien de dépendance ne soit pas toujours évident entre ces deux variables, il est pratique, à des fins d’analyse, de définir la variable indépendante <span class="math inline">\(X\)</span> et la variable dépendante <span class="math inline">\(Y\)</span>.</p>
<div id="mise-en-place-11" class="section level2">
<h2><span class="header-section-number">19.1</span> Mise en place</h2>
<p>Nous utiliserons les librairies suivantes pour ce chapitre.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(datasauRus)
<span class="kw">library</span>(knitr)</code></pre>
<p>Dans ce chapitre, nous utiliserons la base de données <code>starwars</code> qui est chargée par l’extension <code>dplyr</code> du <code>tidyverse</code>. Les informations présentes dans cette base de données sont:</p>
<table>
<thead>
<tr class="header">
<th align="left">variable</th>
<th align="left">description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">name</td>
<td align="left">Name of the character</td>
</tr>
<tr class="even">
<td align="left">height</td>
<td align="left">Height (cm)</td>
</tr>
<tr class="odd">
<td align="left">mass</td>
<td align="left">Weight (kg)</td>
</tr>
<tr class="even">
<td align="left">hair_color,skin_color,eye_color</td>
<td align="left">Hair, skin, and eye colors</td>
</tr>
<tr class="odd">
<td align="left">birth_year</td>
<td align="left">Year born (BBY = Before Battle of Yavin)</td>
</tr>
<tr class="even">
<td align="left">gender</td>
<td align="left">male, female, hermaphrodite, or none.</td>
</tr>
<tr class="odd">
<td align="left">homeworld</td>
<td align="left">Name of homeworld</td>
</tr>
<tr class="even">
<td align="left">species</td>
<td align="left">Name of species</td>
</tr>
<tr class="odd">
<td align="left">films</td>
<td align="left">List of films the character appeared in</td>
</tr>
<tr class="even">
<td align="left">vehicles</td>
<td align="left">List of vehicles the character has piloted</td>
</tr>
<tr class="odd">
<td align="left">starships</td>
<td align="left">List of starships the character has piloted</td>
</tr>
</tbody>
</table>
<p>Nous pouvons avoir un meilleur apercu des différentes variables de la base de données en utilisant la commande <code>glimpse</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">glimpse</span>(starwars)
<span class="co">#&gt; Observations: 87</span>
<span class="co">#&gt; Variables: 13</span>
<span class="co">#&gt; $ name       &lt;chr&gt; &quot;Luke Skywalker&quot;, &quot;C-3PO&quot;, &quot;R2-D2&quot;, &quot;Darth Vader&quot;, ...</span>
<span class="co">#&gt; $ height     &lt;int&gt; 172, 167, 96, 202, 150, 178, 165, 97, 183, 182, 188...</span>
<span class="co">#&gt; $ mass       &lt;dbl&gt; 77.0, 75.0, 32.0, 136.0, 49.0, 120.0, 75.0, 32.0, 8...</span>
<span class="co">#&gt; $ hair_color &lt;chr&gt; &quot;blond&quot;, NA, NA, &quot;none&quot;, &quot;brown&quot;, &quot;brown, grey&quot;, &quot;b...</span>
<span class="co">#&gt; $ skin_color &lt;chr&gt; &quot;fair&quot;, &quot;gold&quot;, &quot;white, blue&quot;, &quot;white&quot;, &quot;light&quot;, &quot;l...</span>
<span class="co">#&gt; $ eye_color  &lt;chr&gt; &quot;blue&quot;, &quot;yellow&quot;, &quot;red&quot;, &quot;yellow&quot;, &quot;brown&quot;, &quot;blue&quot;,...</span>
<span class="co">#&gt; $ birth_year &lt;dbl&gt; 19.0, 112.0, 33.0, 41.9, 19.0, 52.0, 47.0, NA, 24.0...</span>
<span class="co">#&gt; $ gender     &lt;chr&gt; &quot;male&quot;, NA, NA, &quot;male&quot;, &quot;female&quot;, &quot;male&quot;, &quot;female&quot;,...</span>
<span class="co">#&gt; $ homeworld  &lt;chr&gt; &quot;Tatooine&quot;, &quot;Tatooine&quot;, &quot;Naboo&quot;, &quot;Tatooine&quot;, &quot;Alder...</span>
<span class="co">#&gt; $ species    &lt;chr&gt; &quot;Human&quot;, &quot;Droid&quot;, &quot;Droid&quot;, &quot;Human&quot;, &quot;Human&quot;, &quot;Human...</span>
<span class="co">#&gt; $ films      &lt;list&gt; [&lt;&quot;Revenge of the Sith&quot;, &quot;Return of the Jedi&quot;, &quot;Th...</span>
<span class="co">#&gt; $ vehicles   &lt;list&gt; [&lt;&quot;Snowspeeder&quot;, &quot;Imperial Speeder Bike&quot;&gt;, &lt;&gt;, &lt;&gt;,...</span>
<span class="co">#&gt; $ starships  &lt;list&gt; [&lt;&quot;X-wing&quot;, &quot;Imperial shuttle&quot;&gt;, &lt;&gt;, &lt;&gt;, &quot;TIE Adva...</span></code></pre>
</div>
<div id="le-nuage-de-points" class="section level2">
<h2><span class="header-section-number">19.2</span> Le nuage de points</h2>
<p>Dans le cours de méthodes quantitatives, nous nous intéressons à la corrélation linéaire. Un nuage de points permet de visualiser les données.</p>
<p>Pour construire ce graphique:</p>
<ul>
<li>Le titre doit être indiqué : “Lien entre variable 1 et variable 2”.</li>
<li>La variable indépendante est placée sur l’axe des <span class="math inline">\(x\)</span> et la variable dépendante est placée sur l’axe des <span class="math inline">\(y\)</span>.</li>
<li>Les titres des axes doivent être présents.</li>
<li>Un point doit être placé à la coordonnée <span class="math inline">\((x_i,y_i)\)</span> pour chacun des couples de données.</li>
<li>Les axes <span class="math inline">\(x\)</span> et <span class="math inline">\(y\)</span> peuvent être coupés pour améliorer la présentation.</li>
</ul>
<p>Nous allons débuter par représenter les deux variables étudiées:. Puisque la base de données contient 87, nous n’afficherons que les premières données.</p>
<table>
<thead>
<tr class="header">
<th align="left">height</th>
<th align="left">mass</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">172</td>
<td align="left">77</td>
</tr>
<tr class="even">
<td align="left">167</td>
<td align="left">75</td>
</tr>
<tr class="odd">
<td align="left">96</td>
<td align="left">32</td>
</tr>
<tr class="even">
<td align="left">202</td>
<td align="left">136</td>
</tr>
<tr class="odd">
<td align="left">150</td>
<td align="left">49</td>
</tr>
<tr class="even">
<td align="left">178</td>
<td align="left">120</td>
</tr>
<tr class="odd">
<td align="left">…</td>
<td align="left">…</td>
</tr>
</tbody>
</table>
<p>Nous allons nous intéresser aux variables <code>height</code> et <code>mass</code> de la base de données <code>starwars</code>. Puisque la masse (<code>mass</code>) dépend de la taille (<code>height</code>), la variable <code>mass</code> est la variable dépendante et la variable <code>height</code> est la variable indépendante.</p>
<p>Nous affichons ces données dans un plan cartésien et chaque ligne du tableau précédent correspond aux coordonnées cartésiennes de nos points. Par exemple, puisque le premier personnage à une taille de 172 et un poids de 77, nous allons afficher le point (172,77). Si nous le faisons pour toutes les données, nous obtenons un nuage de points.</p>
<p>Nous avons donc:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> starwars, <span class="kw">aes</span>(<span class="dt">x =</span> height, <span class="dt">y =</span> mass))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(
    <span class="dt">x =</span> <span class="st">&quot;Taille (cm)&quot;</span>,
    <span class="dt">y =</span> <span class="st">&quot;Masse (kg)&quot;</span>,
    <span class="dt">title =</span> <span class="st">&quot;Lien entre la taille et la masse&quot;</span>
  )
<span class="co">#&gt; Warning: Removed 28 rows containing missing values (geom_point).</span></code></pre>
<p><img src="tidystatR_files/figure-html/unnamed-chunk-116-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Nous remarquons une donnée qui semble aberrante dans le graphique précédent. Le personnage de Star Wars semble avoir une masse très importante par rapport à sa taille. Puisque sa masse dépasse 1000kg, nous allons filtrer les données pour trouver le nom du personnage en question.</p>
<pre class="sourceCode r"><code class="sourceCode r">starwars <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(mass <span class="op">&gt;</span><span class="st"> </span><span class="dv">1000</span>)
<span class="co">#&gt; # A tibble: 1 x 13</span>
<span class="co">#&gt;   name     height  mass hair_color skin_color  eye_color birth_year gender</span>
<span class="co">#&gt;   &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; </span>
<span class="co">#&gt; 1 Jabba D…    175 1358. &lt;NA&gt;       green-tan,… orange          600. herma…</span>
<span class="co">#&gt; # ... with 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,</span>
<span class="co">#&gt; #   vehicles &lt;list&gt;, starships &lt;list&gt;</span></code></pre>
<p>Le personnage est bien sûr Jabba Desilijic Tiure.</p>
<div class="figure">
<img src="images/jabba-the-hutt.jpeg" alt="Jabba" />
<p class="caption">Jabba</p>
</div>
<p>Il est possible de quantifier la force de la corrélation linéaire entre deux variables à l’aide d’une mesure. Cette mesure est appelée le coefficient de corrélation et est noté <span class="math inline">\(r\)</span>.</p>
<p>La formule pour calculer <span class="math inline">\(r\)</span> est la suivante:</p>
<p><span class="math display">\[
r = \dfrac{\sum xy - n\bar x \bar y}{(n-1)s_x s_y}
\]</span></p>
<p>Nous pouvons utiliser la commande <code>cor</code> dans R pour trouver le coefficient de corrélation. Par exemple, si nous voulons trouver le coefficient de corrélation entre les variables <code>height</code> et <code>mass</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">cor</span>(starwars<span class="op">$</span>height,starwars<span class="op">$</span>mass)
<span class="co">#&gt; [1] NA</span></code></pre>
<p>Nous obtenons comme réponse <code>NA</code>. Ceci signifie que des données sont manquantes dans nos observations. Pour calculer un coefficient de corrélation en omettant les données manquantes, nous pouvons utiliser l’option <code>use = &quot;complete.obs&quot;</code>. Nous obtenons donc:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">cor</span>(starwars<span class="op">$</span>height, starwars<span class="op">$</span>mass, <span class="dt">use =</span> <span class="st">&quot;complete.obs&quot;</span>)
<span class="co">#&gt; [1] 0.134</span></code></pre>
<p>Le coefficient de corrélation est donc de 0.134.</p>
<p>Nous pouvons calculer le coefficient de corrélation lorsque nous enlevons l’observation de Jabba Desilijic Tiure. Nous obtenons:</p>
<pre class="sourceCode r"><code class="sourceCode r">no_jabba &lt;-<span class="st"> </span>starwars <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(mass <span class="op">&lt;</span><span class="st"> </span><span class="dv">1000</span>)
<span class="kw">cor</span>(no_jabba<span class="op">$</span>height, no_jabba<span class="op">$</span>mass)
<span class="co">#&gt; [1] 0.761</span></code></pre>
<p>Le coefficient de corrélation est maintenant de 0.761.</p>
<p>La valeur de <span class="math inline">\(r\)</span> permet de quantifier la force de la corrélation entre <span class="math inline">\(X\)</span> et <span class="math inline">\(Y\)</span> et permet aussi de déterminer si cette corrélation est positive ou négative.</p>
</div>
<div id="fake-data" class="section level2">
<h2><span class="header-section-number">19.3</span> Fake data</h2>
<div id="correlation-positive" class="section level3">
<h3><span class="header-section-number">19.3.1</span> Corrélation positive</h3>
<p><img src="tidystatR_files/figure-html/unnamed-chunk-124-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="correlation-negative" class="section level3">
<h3><span class="header-section-number">19.3.2</span> Corrélation négative</h3>
<p><img src="tidystatR_files/figure-html/unnamed-chunk-125-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="aucune-correlation" class="section level3">
<h3><span class="header-section-number">19.3.3</span> Aucune corrélation</h3>
<p><img src="tidystatR_files/figure-html/unnamed-chunk-126-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="une-autre-facon-de-simuler" class="section level3">
<h3><span class="header-section-number">19.3.4</span> Une autre façon de simuler</h3>
<pre class="sourceCode r"><code class="sourceCode r">N &lt;-<span class="st"> </span><span class="dv">50</span> <span class="co"># Nombre de points</span>
x0 &lt;-<span class="st"> </span><span class="dv">0</span>
xf &lt;-<span class="st"> </span><span class="dv">1</span>
delta &lt;-<span class="st"> </span>(xf<span class="op">-</span>x0)<span class="op">/</span>N

x &lt;-<span class="st"> </span><span class="kw">seq</span>(x0, xf, delta)
y_pos_high &lt;-<span class="st"> </span>x<span class="op">+</span>b<span class="op">+</span><span class="kw">rnorm</span>(N<span class="op">+</span><span class="dv">1</span>, <span class="dv">0</span>, (<span class="fl">0.25</span>)<span class="op">^</span><span class="dv">2</span>)
y_pos_low &lt;-<span class="st"> </span>x<span class="op">+</span>b<span class="op">+</span><span class="kw">rnorm</span>(N<span class="op">+</span><span class="dv">1</span>, <span class="dv">0</span>, (<span class="fl">0.5</span>)<span class="op">^</span><span class="dv">2</span>)
y_neg_high &lt;-<span class="st"> </span><span class="op">-</span>x<span class="op">+</span><span class="dv">1</span><span class="op">+</span><span class="kw">rnorm</span>(N<span class="op">+</span><span class="dv">1</span>, <span class="dv">0</span>, (<span class="fl">0.25</span>)<span class="op">^</span><span class="dv">2</span>)
y_neg_low &lt;-<span class="st"> </span><span class="op">-</span>x<span class="op">+</span><span class="dv">1</span><span class="op">+</span><span class="kw">rnorm</span>(N<span class="op">+</span><span class="dv">1</span>, <span class="dv">0</span>, (<span class="fl">0.5</span>)<span class="op">^</span><span class="dv">2</span>)

cor_lin &lt;-<span class="st"> </span><span class="kw">rbind</span>(
  <span class="kw">tibble</span>(
  <span class="dt">type =</span> <span class="st">&quot;Corrélation positive forte&quot;</span>,
  x,
  <span class="dt">y =</span> y_pos_high),
  <span class="kw">tibble</span>(
  <span class="dt">type =</span> <span class="st">&quot;Corrélation positive faible&quot;</span>,
  x,
  <span class="dt">y =</span> y_pos_low),
  <span class="kw">tibble</span>(
  <span class="dt">type =</span> <span class="st">&quot;Corrélation négative forte&quot;</span>,
  x,
  <span class="dt">y =</span> y_neg_high),
  <span class="kw">tibble</span>(
  <span class="dt">type =</span> <span class="st">&quot;Corrélation négative faible&quot;</span>,
  x,
  <span class="dt">y =</span> y_neg_low)
  )

<span class="kw">ggplot</span>(cor_lin, <span class="kw">aes</span>(x, y))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>type)<span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.title.x=</span><span class="kw">element_blank</span>(),
        <span class="dt">axis.text.x=</span><span class="kw">element_blank</span>(),
        <span class="dt">axis.ticks.x=</span><span class="kw">element_blank</span>(),
        <span class="dt">axis.title.y=</span><span class="kw">element_blank</span>(),
        <span class="dt">axis.text.y=</span><span class="kw">element_blank</span>(),
        <span class="dt">axis.ticks.y=</span><span class="kw">element_blank</span>())<span class="op">+</span>
<span class="st">  </span><span class="kw">xlim</span>(<span class="op">-</span><span class="dv">0</span>,<span class="dv">1</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">ylim</span>(<span class="op">-</span><span class="fl">0.5</span>,<span class="fl">1.5</span>)</code></pre>
<p><img src="tidystatR_files/figure-html/unnamed-chunk-127-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="le-quartet-danscombe" class="section level2">
<h2><span class="header-section-number">19.4</span> Le quartet d’Anscombe</h2>
<p>Le quartet d’Anscombe est constitué de quatre ensembles de données qui ont les mêmes propriétés statistiques simples mais qui sont en réalité très différents, ce qui se voit facilement lorsqu’on les représente sous forme de graphiques. Ils ont été construits en 1973 par le statisticien Francis Anscombe dans le but de démontrer l’importance de tracer des graphiques avant d’analyser des données, car cela permet notamment d’estimer l’incidence des données aberrantes sur les différentes indices statistiques que l’on pourrait calculer.</p>
<p>Le quartet d’Anscombe est disponible dans R sous le nom <code>anscombe</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">kable</span>(anscombe)</code></pre>
<table>
<thead>
<tr class="header">
<th align="right">x1</th>
<th align="right">x2</th>
<th align="right">x3</th>
<th align="right">x4</th>
<th align="right">y1</th>
<th align="right">y2</th>
<th align="right">y3</th>
<th align="right">y4</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">10</td>
<td align="right">10</td>
<td align="right">10</td>
<td align="right">8</td>
<td align="right">8.04</td>
<td align="right">9.14</td>
<td align="right">7.46</td>
<td align="right">6.58</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">8</td>
<td align="right">8</td>
<td align="right">8</td>
<td align="right">6.95</td>
<td align="right">8.14</td>
<td align="right">6.77</td>
<td align="right">5.76</td>
</tr>
<tr class="odd">
<td align="right">13</td>
<td align="right">13</td>
<td align="right">13</td>
<td align="right">8</td>
<td align="right">7.58</td>
<td align="right">8.74</td>
<td align="right">12.74</td>
<td align="right">7.71</td>
</tr>
<tr class="even">
<td align="right">9</td>
<td align="right">9</td>
<td align="right">9</td>
<td align="right">8</td>
<td align="right">8.81</td>
<td align="right">8.77</td>
<td align="right">7.11</td>
<td align="right">8.84</td>
</tr>
<tr class="odd">
<td align="right">11</td>
<td align="right">11</td>
<td align="right">11</td>
<td align="right">8</td>
<td align="right">8.33</td>
<td align="right">9.26</td>
<td align="right">7.81</td>
<td align="right">8.47</td>
</tr>
<tr class="even">
<td align="right">14</td>
<td align="right">14</td>
<td align="right">14</td>
<td align="right">8</td>
<td align="right">9.96</td>
<td align="right">8.10</td>
<td align="right">8.84</td>
<td align="right">7.04</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="right">6</td>
<td align="right">6</td>
<td align="right">8</td>
<td align="right">7.24</td>
<td align="right">6.13</td>
<td align="right">6.08</td>
<td align="right">5.25</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">4</td>
<td align="right">4</td>
<td align="right">19</td>
<td align="right">4.26</td>
<td align="right">3.10</td>
<td align="right">5.39</td>
<td align="right">12.50</td>
</tr>
<tr class="odd">
<td align="right">12</td>
<td align="right">12</td>
<td align="right">12</td>
<td align="right">8</td>
<td align="right">10.84</td>
<td align="right">9.13</td>
<td align="right">8.15</td>
<td align="right">5.56</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="right">7</td>
<td align="right">7</td>
<td align="right">8</td>
<td align="right">4.82</td>
<td align="right">7.26</td>
<td align="right">6.42</td>
<td align="right">7.91</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">8</td>
<td align="right">5.68</td>
<td align="right">4.74</td>
<td align="right">5.73</td>
<td align="right">6.89</td>
</tr>
</tbody>
</table>
<p>Les observations <span class="math inline">\(x_i\)</span> sont reliées aux observations <span class="math inline">\(y_i\)</span>. Pour visualiser ces quatre ensembles de données, nous avons produit une nouvelle base de données <code>anscombe_tidy</code> sous la forme de <em>tidy data</em>.</p>
<p>Avant d’afficher les ensembles de données, nous allons calculer quelques mesures sur chacun de ces ensembles, à savoir, la moyenne des <span class="math inline">\(x\)</span>, la moyenne des <span class="math inline">\(y\)</span>, la variance des <span class="math inline">\(x\)</span>, la variance des <span class="math inline">\(y\)</span> et le coefficient de corrélation.</p>
<pre class="sourceCode r"><code class="sourceCode r">anscombe_tidy <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(ensemble) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="st">&quot;moyenne des $x$&quot;</span>=<span class="kw">mean</span>(x), 
            <span class="st">&quot;variance des $x$&quot;</span>=<span class="kw">var</span>(x), 
            <span class="st">&quot;moyenne des $y$&quot;</span>=<span class="kw">mean</span>(y), 
            <span class="st">&quot;variance des $y$&quot;</span>=<span class="kw">var</span>(y), 
            <span class="st">&quot;coeff. de corrélation&quot;</span>=<span class="kw">cor</span>(x,y)) <span class="op">%&gt;%</span>
<span class="st">  </span>kable</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">ensemble</th>
<th align="right">moyenne des <span class="math inline">\(x\)</span></th>
<th align="right">variance des <span class="math inline">\(x\)</span></th>
<th align="right">moyenne des <span class="math inline">\(y\)</span></th>
<th align="right">variance des <span class="math inline">\(y\)</span></th>
<th align="right">coeff. de corrélation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">I</td>
<td align="right">9</td>
<td align="right">11</td>
<td align="right">7.5</td>
<td align="right">4.13</td>
<td align="right">0.816</td>
</tr>
<tr class="even">
<td align="left">II</td>
<td align="right">9</td>
<td align="right">11</td>
<td align="right">7.5</td>
<td align="right">4.13</td>
<td align="right">0.816</td>
</tr>
<tr class="odd">
<td align="left">III</td>
<td align="right">9</td>
<td align="right">11</td>
<td align="right">7.5</td>
<td align="right">4.12</td>
<td align="right">0.816</td>
</tr>
<tr class="even">
<td align="left">IV</td>
<td align="right">9</td>
<td align="right">11</td>
<td align="right">7.5</td>
<td align="right">4.12</td>
<td align="right">0.817</td>
</tr>
</tbody>
</table>
<p>Comme nous pouvons le remarquer, les quatre ensembles de données possèdent les mêmes mesures. Par contre, lorsque nous affichons ensuite les quatre ensembles de données, nous remarquons que ces ensembles sont très différents.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(anscombe_tidy, <span class="kw">aes</span>(x, y)) <span class="op">+</span>
<span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">    </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ensemble) <span class="op">+</span>
<span class="st">    </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="dt">se =</span> <span class="ot">FALSE</span>)</code></pre>
<p><img src="tidystatR_files/figure-html/unnamed-chunk-131-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="datasaurus" class="section level2">
<h2><span class="header-section-number">19.5</span> DatasauRus</h2>
<pre class="sourceCode r"><code class="sourceCode r">datasaurus_dozen <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(dataset) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="st">&quot;moyenne des $x$&quot;</span>=<span class="kw">mean</span>(x), 
            <span class="st">&quot;variance des $x$&quot;</span>=<span class="kw">var</span>(x), 
            <span class="st">&quot;moyenne des $y$&quot;</span>=<span class="kw">mean</span>(y), 
            <span class="st">&quot;variance des $y$&quot;</span>=<span class="kw">var</span>(y), 
            <span class="st">&quot;coeff. de corrélation&quot;</span>=<span class="kw">cor</span>(x,y)) <span class="op">%&gt;%</span>
<span class="st">  </span>kable</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">dataset</th>
<th align="right">moyenne des <span class="math inline">\(x\)</span></th>
<th align="right">variance des <span class="math inline">\(x\)</span></th>
<th align="right">moyenne des <span class="math inline">\(y\)</span></th>
<th align="right">variance des <span class="math inline">\(y\)</span></th>
<th align="right">coeff. de corrélation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">away</td>
<td align="right">54.3</td>
<td align="right">281</td>
<td align="right">47.8</td>
<td align="right">726</td>
<td align="right">-0.064</td>
</tr>
<tr class="even">
<td align="left">bullseye</td>
<td align="right">54.3</td>
<td align="right">281</td>
<td align="right">47.8</td>
<td align="right">726</td>
<td align="right">-0.069</td>
</tr>
<tr class="odd">
<td align="left">circle</td>
<td align="right">54.3</td>
<td align="right">281</td>
<td align="right">47.8</td>
<td align="right">725</td>
<td align="right">-0.068</td>
</tr>
<tr class="even">
<td align="left">dino</td>
<td align="right">54.3</td>
<td align="right">281</td>
<td align="right">47.8</td>
<td align="right">726</td>
<td align="right">-0.064</td>
</tr>
<tr class="odd">
<td align="left">dots</td>
<td align="right">54.3</td>
<td align="right">281</td>
<td align="right">47.8</td>
<td align="right">725</td>
<td align="right">-0.060</td>
</tr>
<tr class="even">
<td align="left">h_lines</td>
<td align="right">54.3</td>
<td align="right">281</td>
<td align="right">47.8</td>
<td align="right">726</td>
<td align="right">-0.062</td>
</tr>
<tr class="odd">
<td align="left">high_lines</td>
<td align="right">54.3</td>
<td align="right">281</td>
<td align="right">47.8</td>
<td align="right">726</td>
<td align="right">-0.069</td>
</tr>
<tr class="even">
<td align="left">slant_down</td>
<td align="right">54.3</td>
<td align="right">281</td>
<td align="right">47.8</td>
<td align="right">726</td>
<td align="right">-0.069</td>
</tr>
<tr class="odd">
<td align="left">slant_up</td>
<td align="right">54.3</td>
<td align="right">281</td>
<td align="right">47.8</td>
<td align="right">726</td>
<td align="right">-0.069</td>
</tr>
<tr class="even">
<td align="left">star</td>
<td align="right">54.3</td>
<td align="right">281</td>
<td align="right">47.8</td>
<td align="right">725</td>
<td align="right">-0.063</td>
</tr>
<tr class="odd">
<td align="left">v_lines</td>
<td align="right">54.3</td>
<td align="right">281</td>
<td align="right">47.8</td>
<td align="right">726</td>
<td align="right">-0.069</td>
</tr>
<tr class="even">
<td align="left">wide_lines</td>
<td align="right">54.3</td>
<td align="right">281</td>
<td align="right">47.8</td>
<td align="right">726</td>
<td align="right">-0.067</td>
</tr>
<tr class="odd">
<td align="left">x_shape</td>
<td align="right">54.3</td>
<td align="right">281</td>
<td align="right">47.8</td>
<td align="right">725</td>
<td align="right">-0.066</td>
</tr>
</tbody>
</table>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(datasaurus_dozen, <span class="kw">aes</span>(<span class="dt">x=</span>x, <span class="dt">y=</span>y, <span class="dt">colour=</span>dataset))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">theme_void</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>dataset, <span class="dt">ncol=</span><span class="dv">3</span>)</code></pre>
<p><img src="tidystatR_files/figure-html/unnamed-chunk-133-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="challenger" class="section level2">
<h2><span class="header-section-number">19.6</span> Challenger</h2>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">kable</span>(orings)</code></pre>
<table>
<thead>
<tr class="header">
<th align="right">fligth</th>
<th align="right">temperature</th>
<th align="right">damaged</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">53</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">57</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">58</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">63</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">66</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="right">67</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td align="right">67</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">67</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td align="right">68</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="right">69</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">11</td>
<td align="right">70</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">12</td>
<td align="right">70</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">13</td>
<td align="right">70</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">14</td>
<td align="right">70</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">15</td>
<td align="right">72</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">16</td>
<td align="right">73</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">17</td>
<td align="right">75</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">18</td>
<td align="right">75</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">19</td>
<td align="right">76</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">20</td>
<td align="right">76</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">21</td>
<td align="right">78</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">22</td>
<td align="right">79</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">23</td>
<td align="right">81</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<div id="toutes-les-donnees" class="section level3">
<h3><span class="header-section-number">19.6.1</span> Toutes les données</h3>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> orings, <span class="kw">aes</span>(<span class="dt">x =</span> temperature, <span class="dt">y =</span> damaged))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>()</code></pre>
<p><img src="tidystatR_files/figure-html/unnamed-chunk-136-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="sans-incident" class="section level3">
<h3><span class="header-section-number">19.6.2</span> Sans incident</h3>
<pre class="sourceCode r"><code class="sourceCode r">orings <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(damaged <span class="op">!=</span><span class="st"> </span><span class="dv">0</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> temperature, <span class="dt">y =</span> damaged))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>()</code></pre>
<p><img src="tidystatR_files/figure-html/unnamed-chunk-137-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="probabilites-en-enlevant-les-incidents" class="section level3">
<h3><span class="header-section-number">19.6.3</span> Probabilités en enlevant les incidents</h3>
<pre class="sourceCode r"><code class="sourceCode r">fitting &lt;-<span class="st"> </span>orings <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(damaged <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">proba =</span> <span class="kw">if_else</span>(damaged <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>, damaged<span class="op">/</span><span class="dv">6</span>, <span class="fl">0.01</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">log =</span> <span class="kw">log</span>(proba<span class="op">/</span>(<span class="dv">1</span><span class="op">-</span>proba)))

model &lt;-<span class="st"> </span><span class="kw">lm</span>(log <span class="op">~</span>temperature, <span class="dt">data =</span> fitting)
b &lt;-<span class="st"> </span>model<span class="op">$</span>coefficients[[<span class="dv">1</span>]]
a &lt;-<span class="st"> </span>model<span class="op">$</span>coefficients[[<span class="dv">2</span>]]
fun &lt;-<span class="st"> </span><span class="cf">function</span>(x){<span class="dv">6</span><span class="op">*</span><span class="kw">exp</span>(a<span class="op">*</span>x<span class="op">+</span>b)<span class="op">/</span>(<span class="dv">1</span><span class="op">+</span><span class="kw">exp</span>(a<span class="op">*</span>x<span class="op">+</span>b))}
<span class="kw">ggplot</span>(<span class="dt">data =</span> fitting, <span class="kw">aes</span>(<span class="dt">x =</span> temperature, <span class="dt">y =</span> damaged))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">stat_function</span>(<span class="dt">fun =</span> fun)<span class="op">+</span>
<span class="st">  </span><span class="kw">xlim</span>(<span class="dv">30</span>, <span class="dv">90</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">ylim</span>(<span class="dv">0</span>,<span class="dv">6</span>)</code></pre>
<p><img src="tidystatR_files/figure-html/unnamed-chunk-138-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="probabilites-en-gardant-les-incidents" class="section level3">
<h3><span class="header-section-number">19.6.4</span> Probabilités en gardant les incidents</h3>
<pre class="sourceCode r"><code class="sourceCode r">fitting &lt;-<span class="st"> </span>orings <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">proba =</span> <span class="kw">if_else</span>(damaged <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>, damaged<span class="op">/</span><span class="dv">6</span>, <span class="fl">0.01</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">log =</span> <span class="kw">log</span>(proba<span class="op">/</span>(<span class="dv">1</span><span class="op">-</span>proba)))

model &lt;-<span class="st"> </span><span class="kw">lm</span>(log <span class="op">~</span>temperature, <span class="dt">data =</span> fitting)
b &lt;-<span class="st"> </span>model<span class="op">$</span>coefficients[[<span class="dv">1</span>]]
a &lt;-<span class="st"> </span>model<span class="op">$</span>coefficients[[<span class="dv">2</span>]]

fun &lt;-<span class="st"> </span><span class="cf">function</span>(x){<span class="dv">6</span><span class="op">*</span><span class="kw">exp</span>(a<span class="op">*</span>x<span class="op">+</span>b)<span class="op">/</span>(<span class="dv">1</span><span class="op">+</span><span class="kw">exp</span>(a<span class="op">*</span>x<span class="op">+</span>b))}
<span class="kw">ggplot</span>(<span class="dt">data =</span> orings, <span class="kw">aes</span>(<span class="dt">x =</span> temperature, <span class="dt">y =</span> damaged))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">stat_function</span>(<span class="dt">fun =</span> fun)<span class="op">+</span>
<span class="st">  </span><span class="kw">xlim</span>(<span class="dv">30</span>, <span class="dv">90</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">ylim</span>(<span class="dv">0</span>,<span class="dv">6</span>)</code></pre>
<p><img src="tidystatR_files/figure-html/unnamed-chunk-139-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="glm" class="section level3">
<h3><span class="header-section-number">19.6.5</span> GLM</h3>
<pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">glm</span>(<span class="kw">cbind</span>(damaged, <span class="dv">6</span><span class="op">-</span>damaged)<span class="op">~</span>temperature, <span class="dt">data =</span> orings, <span class="dt">family =</span> binomial)
b &lt;-<span class="st"> </span>model<span class="op">$</span>coefficients[[<span class="dv">1</span>]]
a &lt;-<span class="st"> </span>model<span class="op">$</span>coefficients[[<span class="dv">2</span>]]

fun &lt;-<span class="st"> </span><span class="cf">function</span>(x){<span class="dv">6</span><span class="op">*</span><span class="kw">exp</span>(a<span class="op">*</span>x<span class="op">+</span>b)<span class="op">/</span>(<span class="dv">1</span><span class="op">+</span><span class="kw">exp</span>(a<span class="op">*</span>x<span class="op">+</span>b))}
<span class="kw">ggplot</span>(<span class="dt">data =</span> orings, <span class="kw">aes</span>(<span class="dt">x =</span> temperature, <span class="dt">y =</span> damaged))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">stat_function</span>(<span class="dt">fun =</span> fun)<span class="op">+</span>
<span class="st">  </span><span class="kw">xlim</span>(<span class="dv">30</span>, <span class="dv">90</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">ylim</span>(<span class="dv">0</span>,<span class="dv">6</span>)</code></pre>
<p><img src="tidystatR_files/figure-html/unnamed-chunk-140-1.png" width="70%" style="display: block; margin: auto;" /></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="donneesconstruites.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="bibliographie.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/desautm/tidystatR/edit/master/chapitres/correlation-lineaire.Rmd",
"text": "Modifier"
},
"download": ["tidystatR.pdf", "tidystatR.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
